<div class="container content main-content items-manager create-items">
    <div class="container-fluid">
        <p class="clearfix"><span class="left-icon pull-left"></span><span ui-sref="myitems" ui-sref-opts="{reload:true}">我的商户 / </span><font>新建商户</font></p>

        <!--头部-->
        <div class="row top-div">
            <div class="col-md-4" ng-class="{'top-focus':currentState==1}">
                基本信息
                <span class="top-angle"></span>
            </div>
            <div class="col-md-4" ng-class="{'top-focus':currentState==2}">
                签约信息
                <span class="top-angle"></span>
            </div>
            <div class="col-md-4" ng-class="{'top-focus':currentState==3}">
                结算信息
                <span class="top-angle"></span>
            </div>
        </div>

        <!--表单-->
        <form class="form-horizontal">
            <!--第一页-->
            <div class="floor1" ng-show="currentState==1">
                <div class="form-group">
                    <label class="col-sm-2 control-label">商户名称</label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control " id="merchantName" ng-model="merchant.name"
ng-init="123" value="{{name}}"                              placeholder="请输入商户名称" ng-class="{'red-border':merchantNameState}"
                        ng-change="tipState(this,'merchantNameState')">
                    </div>
                    <div class="col-md-4 red-font" ng-show="merchantNameState">请输入商户名称</div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">商户分类</label>
                    <div class="col-sm-4">
                        <select class="form-control" id="merchantType" ng-class="{'red-border':merchantTypeState}">
                            <option value="">请选择分类</option>
                            <option ng-repeat="merchantType in merchantTypes"
                                    value="{{merchantType.id}}">
                                {{merchantType.name}}
                            </option>
                        </select>
                        <span class="select-jiao"></span>
                    </div>
                    <div class="col-md-4 red-font" ng-show="merchantTypeState">请输入商户名称</div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">所属区域</label>

                    <div class="info">
                        <!--<div class="col-sm-2">-->
                        <!--<select class="form-control" id="s_province" name="s_province"></select>  -->
                        <!--</div>-->

                        <div class="col-sm-2">
                            <!--<select class="form-control" id="city" name="s_city"-->
                            <!--ng-model="currentCity" ng-options="o.id as o.name for o in cities"-->
                            <!--ng-change="cityChange(currentCity)">-->
                            <!--<option value="" selected>城市</option>-->
                            <!--&lt;!&ndash;<option ng-repeat="city in cities" value="{{city.id}}">&ndash;&gt;-->
                            <!--&lt;!&ndash;{{city.name}}&ndash;&gt;-->
                            <!--&lt;!&ndash;</option>&ndash;&gt;-->
                            <!--</select>  -->
                            <select class="form-control" id="city" name="s_city"
                                    ng-model="currentCity" ng-class="{'red-border':cityState}">
                                <option value="" selected>城市</option>
                                <option ng-repeat="city in cities" value="{{city.id}}">
                                    {{city.name}}
                                </option>
                            </select>  
                            <span class="select-jiao"></span>
                        </div>
                        <div class="col-sm-2">
                            <select class="form-control" id="area" name="s_county" ng-class="{'red-border':areaState}">
                                <option value="">区域</option>
                                <option ng-repeat="area in areas" value="{{area.id}}">
                                    {{area.name}}
                                </option>
                            </select>
                            <span class="select-jiao"></span>
                        </div>
                        <div class="col-md-2 red-font" ng-show="cityState&&areaState">请选择城市和区域</div>
                        <div class="col-md-2 red-font" ng-show="cityState&&!areaState">请选择城市</div>
                        <div class="col-md-2 red-font" ng-show="areaState&&!cityState">请选择区域</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">详细地址</label>

                    <div class="col-sm-4">
                        <input type="text" id="location" class="form-control"
                               placeholder="请输入商户详细地址" ng-class="{'red-border':locationState}">
                    </div>
                    <div class="col-md-2 red-font" ng-show="locationState">请输入商户详细地址</div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">门店头图</label>

                    <div class="col-sm-8 clearfix">
                        <div id="addShopPic1" class="pull-left addShopPic" ng-class="{'red-border':merchantPicState}">
                            <input type="file" id="picture" class="form-control"
                                   onchange="angular.element(this).scope().imgBtnChange(this,$('#addShopPic1'))">
                            <span class="text-center ">添加照片</span>
                        </div>
                        <div class="red-font pull-left pic-tip red-font-left" ng-show="merchantPicState">请选择图片</div>
                    </div>

                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">位置标注</label>

                    <div class="col-sm-9">
                        <!--map-->
                        <p class="map-ttl">请在下方地图标注出商户所在位置 <span class="red-font red-font-left" ng-show="lnglatState">请选择经纬度</span></p>

                        <div id="container" class="form-control"></div>
                        <div id="myPageTop">
                            <table>
                                <tr>
                                    <td><label>按关键字搜索：</label></td>
                                    <td class="column2"><label>左击获取经纬度：</label></td>
                                </tr>
                                <tr>
                                    <td><input class="form-control" type="text"
                                               placeholder="请输入关键字进行搜索"
                                               id="tipinput"></td>
                                    <td class="column2"><input class="form-control" type="text"
                                                               readonly="true" id="lnglat"
                                                               ng-class="{'red-border':lnglatState}"></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!--第二页-->
            <div class="floor2" ng-show="currentState==2">
                <div class="form-group">
                    <label class="col-sm-2 control-label">协议签约人</label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="merchantContact"
                               placeholder="请输入签约人姓名" ng-class="{'red-border':merchantCtctState}">
                    </div>
                    <div class="col-md-4 red-font" ng-show="merchantCtctState">请输入签约人姓名</div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">绑定手机号</label>

                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="merchantPhone"
                               placeholder="请输入签约人手机号" ng-class="{'red-border':merchantTelState}">
                    </div>
                    <div class="col-md-4 red-font" ng-show="merchantTelState">请输入签约人姓名</div>
                </div>
                <div class="form-group radio-style">
                    <label for="cooperate-style" class="col-sm-2 control-label">合约类型</label>

                    <div class="col-sm-4" id="cooperate-style">
                        <div class="radio-inline">
                            <label>
                                <input ng-click="itemsStateFun()"  type="radio" name="optionsRadios"
                                       id="optionsRadios1" value="option1" checked>
                                联盟商户
                            </label>
                        </div>
                        <div class="radio-inline">
                            <label>
                                <input ng-click="itemsStateFun()" type="radio" name="optionsRadios"
                                       id="optionsRadios2" value="option2">
                                普通商户
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">普通订单手续费</label>

                    <div class="col-sm-4">
                        <span class="default-font">0.6%</span>
                    </div>
                </div>
                <div class="form-group" ng-if="itemsState">
                    <label class="col-sm-2 control-label">会员订单手续费</label>

                    <div class="col-sm-8 form-inline">
                        <input type="number" id="member-commission" class="form-control input-inline"
                               ng-class="{'red-border':memberCmsnState}"> %
                        <span class="tip">注：会员订单的手续费和官方微信手续费的差额，乐加会以红包形式发放给会员</span>
                        <div class="red-font red-font-left" ng-show="memberCmsnState">请输入会员订单手续费</div>
                    </div>

                </div>
                <div class="form-group" ng-if="itemsState">
                    <label class="col-sm-2 control-label">导流订单佣金比</label>

                    <div class="col-sm-8 form-inline">
                        <input type="text" id="import-commission" class="form-control input-inline"
                               ng-class="{'red-border':importCmsnState}"> %
                        <span class="red-font red-font-left" ng-show="importCmsnState">请输入会员订单手续费</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">签约协议</label>

                    <div class="col-sm-8 clearfix">
                        <div id="addShopPic2" class="pull-left addShopPic">
                            <input type="file" id="protocols" class="form-control" multiple="true"
                                   onchange="angular.element(this).scope().imgBtnChange(this,$('#addShopPic2'))">
                            <span class="text-center ">添加照片</span>
                        </div>
                    </div>
                </div>
            </div>
            <!--第三页-->
            <div class="floor3" ng-show="currentState==3">
                <div class="form-group">
                    <label for="merchantBankCard" class="col-sm-2 control-label">银行卡号</label>

                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="merchantBankCard"
                               placeholder="请输入银行卡号" ng-class="{'red-border':merchantBankCdState}">
                    </div>
                    <div class="col-md-4 red-font" ng-show="merchantBankCdState">请输入银行卡号</div>
                </div>
                <div class="form-group">
                    <label for="merchantBank" class="col-sm-2 control-label">开户行</label>

                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="merchantBank"
                               placeholder="请输入所在支行地址" ng-class="{'red-border':merchantBankState}">
                    </div>
                    <div class="col-md-4 red-font" ng-show="merchantBankState">请输入所在支行地址</div>
                </div>
                <div class="form-group">
                    <label for="payee" class="col-sm-2 control-label">收款人</label>

                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="payee"
                               placeholder="请输入收款人姓名" ng-class="{'red-border':payeeState}">
                    </div>
                    <div class="col-md-4 red-font" ng-show="payeeState">请输入收款人姓名</div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">结算周期</label>

                    <div class="col-sm-4">
                        <span class="default-font">T+1</span>
                    </div>
                </div>
            </div>

            <div class="form-group flipBtn">
                <hr>
                <div class="col-sm-9 col-sm-offset-2">
                    <p>
                        <input type="button" class="btn btn-warning" value="下一页"
                               ng-click="currentStateFun2()" ng-show="currentState==1">

                        <input type="button" class="btn btn-default" value="上一页"
                               ng-click="currentStateFun1()" ng-show="currentState==2">
                        <input type="button" class="btn btn-warning" value="下一页"
                               ng-click="currentStateFun3()" ng-show="currentState==2">

                        <input type="button" class="btn btn-default" value="上一页"
                               ng-click="currentStateFun2()" ng-show="currentState==3">
                        <input type="button" class="btn btn-warning" value="确认" ng-click="sumMerchant()"
                               ng-show="currentState==3">
                    </p>
                </div>
            </div>
        </form>
    </div>
    <!--图片放大提示框-->
    <div class="modal fade" id="enlargePic">
        <div class="modal-dialog">
            <div class="modal-content">
                <img src="" alt="">
            </div>
        </div>
    </div>
</div>


